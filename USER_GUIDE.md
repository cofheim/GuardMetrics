# Руководство пользователя GuardMetrics

## Введение

GuardMetrics - это современная система мониторинга безопасности, которая поможет вам обнаружить подозрительную активность в вашей системе, аномалии в работе процессов и потенциальные угрозы безопасности.

## Начало работы

### Установка

Для работы с GuardMetrics вы можете выбрать один из двух способов установки:

#### Быстрая установка (с Docker)

1. Установите Docker и Docker Compose на ваш компьютер
2. Скачайте проект GuardMetrics:
   ```
   git clone https://github.com/cofheim/GuardMetrics.git
   cd GuardMetrics
   ```
3. Откройте файл `.env` в текстовом редакторе и настройте следующие параметры:
   - `POSTGRES_PASSWORD` - надежный пароль для базы данных
   - `VIRUSTOTAL_API_KEY` - ваш API ключ от сервиса VirusTotal
   - `TELEGRAM_BOT_TOKEN` - токен вашего Telegram бота для уведомлений
   - `TELEGRAM_CHAT_ID` - ID чата, куда будут отправляться уведомления

4. Запустите систему:
   ```
   docker-compose up -d
   ```

5. Откройте в браузере адрес `http://localhost:5000`

#### Ручная установка

1. Установите .NET 8.0 SDK
2. Установите и настройте PostgreSQL
3. Установите и запустите Redis
4. Скачайте проект GuardMetrics:
   ```
   git clone https://github.com/cofheim/GuardMetrics.git
   cd GuardMetrics
   ```
5. Отредактируйте файл `appsettings.json`, указав ваши параметры подключения
6. Выполните миграцию базы данных:
   ```
   dotnet ef database update
   ```
7. Запустите приложение:
   ```
   dotnet run
   ```
8. Откройте в браузере адрес `http://localhost:5000`

## Использование веб-интерфейса

### Главная страница

На главной странице вы увидите краткую сводку о состоянии вашей системы:
- Общее количество отслеживаемых процессов
- Текущее состояние безопасности
- Последние обнаруженные угрозы

### Дашборд

На странице дашборда показаны все основные метрики вашей системы в режиме реального времени:
- Загрузка процессора
- Использование памяти
- Сетевая активность
- Статистика обнаруженных угроз

Для каждой метрики доступны графики, показывающие изменения во времени.

### Метрики

На странице метрик вы можете детально изучить все собранные данные:

1. **Процессы**:
   - Увидеть список всех процессов
   - Отфильтровать процессы по нагрузке на CPU/память
   - Просмотреть историю метрик для каждого процесса

2. **Сеть**:
   - Отслеживание всех сетевых подключений
   - Статистика по объему входящего/исходящего трафика
   - Подозрительные сетевые соединения

3. **Безопасность**:
   - Результаты проверок исполняемых файлов через VirusTotal
   - Обнаруженные аномалии в поведении системы
   - Оценка уровня риска для каждой угрозы

### Оповещения

На странице оповещений вы можете:
- Просмотреть все зарегистрированные оповещения о безопасности
- Фильтровать оповещения по уровню риска (высокий, средний, низкий)
- Настроить каналы оповещений (Telegram, Email, Веб-уведомления)
- Настроить правила для генерации оповещений

## Мобильные уведомления

Для получения уведомлений на мобильное устройство:

1. Создайте Telegram бота (через @BotFather)
2. Запишите полученный токен бота в настройках системы
3. Создайте канал или группу и добавьте в неё бота
4. Укажите ID канала/группы в настройках
5. Выберите типы уведомлений, которые хотите получать

## Устранение неполадок

### Проблемы с подключением к базе данных

Если система не может подключиться к PostgreSQL:
1. Проверьте, запущен ли сервер PostgreSQL
2. Удостоверьтесь, что указаны правильные учетные данные в файле конфигурации
3. Проверьте, созданы ли необходимые базы данных

### Проблемы с Redis

Если система сообщает о проблемах с Redis:
1. Проверьте, запущен ли сервер Redis
2. Убедитесь, что Redis доступен по указанному адресу и порту
3. Перезапустите Redis и приложение

### Отсутствие уведомлений в Telegram

Если не приходят уведомления:
1. Проверьте правильность токена бота
2. Убедитесь, что бот добавлен в указанный чат/канал
3. Проверьте, что бот имеет права на отправку сообщений

## Экспорт данных

Для экспорта собранных данных:
1. На странице метрик нажмите кнопку "Экспорт"
2. Выберите формат (CSV, JSON, PDF)
3. Укажите период, за который нужно экспортировать данные
4. Нажмите "Скачать"

## Поддержка и обратная связь

Если у вас возникли вопросы или вы нашли ошибку:
1. Создайте issue на GitHub: https://github.com/cofheim/GuardMetrics/issues
2. Опишите вашу проблему или предложение максимально подробно
3. Приложите логи системы, если это необходимо 