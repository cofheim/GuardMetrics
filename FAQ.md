# Часто задаваемые вопросы (FAQ)

## О системе GuardMetrics

### Что такое GuardMetrics?
GuardMetrics — это система мониторинга безопасности, которая анализирует активность процессов, сетевые соединения и системные события для выявления потенциальных угроз безопасности.

### Какие угрозы может обнаружить GuardMetrics?
Система может обнаруживать различные виды угроз:
- Аномальное использование ресурсов процессором (возможные признаки криптомайнеров)
- Подозрительную сетевую активность (необычные порты или объем трафика)
- Вредоносные файлы (через интеграцию с VirusTotal)
- Необычное поведение процессов (аномалии на основе машинного обучения)

### На каких платформах работает GuardMetrics?
Система работает на Windows и Linux. Серверная часть может быть развернута в Docker-контейнерах для более простой установки.

## Установка и настройка

### Каковы минимальные требования для работы системы?
- CPU: 2 ядра
- RAM: 4 GB
- Место на диске: 10 GB
- ОС: Windows 10/11 или Linux (Ubuntu 20.04+, Debian 11+)
- .NET 8.0 Runtime (если не используете Docker)

### Нужно ли мне устанавливать PostgreSQL и Redis отдельно?
Если вы используете Docker, то нет — все необходимые компоненты будут автоматически установлены в контейнерах. Если вы устанавливаете систему вручную, то да, вам потребуется установить и настроить PostgreSQL и Redis.

### Как получить API ключ VirusTotal?
1. Зарегистрируйтесь на сайте [VirusTotal](https://www.virustotal.com/)
2. Перейдите в настройки профиля
3. В разделе API найдите ваш ключ API
4. Вставьте этот ключ в настройки GuardMetrics

### Как настроить уведомления в Telegram?
1. Найдите в Telegram бота @BotFather
2. Создайте нового бота с помощью команды `/newbot`
3. Получите токен бота
4. Создайте канал или группу и добавьте в неё вашего бота
5. Чтобы узнать ID канала, отправьте в него сообщение и перейдите по ссылке:
   ```
   https://api.telegram.org/bot<ВАШ_ТОКЕН>/getUpdates
   ```
6. В ответе найдите поле "chat" и значение "id"

## Использование

### Как часто система проверяет метрики?
По умолчанию система собирает метрики каждую минуту и анализирует их каждые 15 минут. Эти параметры можно настроить.

### Можно ли настроить пороговые значения для оповещений?
Да, в настройках системы вы можете указать собственные пороги для различных метрик:
- Процент использования CPU
- Объем используемой памяти
- Пороги аномалий для сетевой активности
- Минимальное количество обнаружений в VirusTotal для определения файла как вредоносного

### Как я узнаю о найденных угрозах?
Вы получите уведомления через настроенные каналы связи (Telegram, Email). Также все угрозы будут отображаться в веб-интерфейсе на странице "Оповещения".

### Что делать, если обнаружена угроза?
1. Изучите детали угрозы в веб-интерфейсе
2. Проверьте, является ли это ложным срабатыванием
3. Если угроза подтверждена:
   - Остановите подозрительный процесс
   - Проверьте систему антивирусом
   - Удалите вредоносные файлы
   - Проверьте наличие других следов компрометации

## Работа с данными

### Как долго хранятся собранные метрики?
По умолчанию метрики хранятся в течение 30 дней. Это значение можно изменить в настройках.

### Можно ли экспортировать данные для анализа в других системах?
Да, данные можно экспортировать в форматах CSV, JSON или PDF. Это можно сделать через веб-интерфейс на странице "Метрики".

### Насколько защищены собранные данные?
Все данные хранятся локально в вашей инфраструктуре. Система не отправляет данные на внешние сервера, за исключением хешей файлов при проверке через VirusTotal.

## Устранение проблем

### Система не запускается после установки
Проверьте:
1. Доступность портов (5000 для веб-интерфейса, 5432 для PostgreSQL, 6379 для Redis)
2. Правильность конфигурации в appsettings.json или .env
3. Наличие всех необходимых компонентов (.NET Runtime, PostgreSQL, Redis)
4. Логи в папке logs/ или вывод контейнеров, если используете Docker

### Веб-интерфейс загружается, но нет данных
Возможные причины:
1. Не запущены фоновые задачи сбора метрик
2. Проблемы с подключением к базе данных
3. Нет прав на доступ к системной информации

Решение: проверьте логи системы и состояние Hangfire Dashboard.

### Как изменить порт веб-интерфейса?
В файле `appsettings.json` измените значение в разделе "Kestrel:Endpoints:Http:Url" или при запуске используйте параметр:
```
dotnet run --urls=http://localhost:ПОРТ
```

Если используете Docker, измените порт в файле `docker-compose.yml` в секции `ports`.

## Дополнительные вопросы

### Потребляет ли GuardMetrics много ресурсов?
Система оптимизирована для минимального потребления ресурсов. В среднем она использует:
- CPU: 5-10% одного ядра
- RAM: 200-300 MB
- Диск: ~1 GB в месяц для хранения метрик

### Как обновить GuardMetrics до новой версии?
1. Если вы используете Docker:
   ```
   git pull
   docker-compose up -d --build
   ```

2. Если установлено вручную:
   ```
   git pull
   dotnet build
   dotnet ef database update
   dotnet run
   ```

### Совместим ли GuardMetrics с другими системами мониторинга?
Да, GuardMetrics может работать параллельно с другими системами мониторинга, такими как Prometheus, Grafana, Zabbix и другими. Более того, интеграция с Grafana уже включена в состав системы. 